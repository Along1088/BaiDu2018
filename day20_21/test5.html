<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>setTimeout 和 setInterval</title>
</head>

<body>
        <div id="fade-obj" style="width:300px;height:300px;background:#000;"></div>
        <button id="fade-btn" onclick="low()">淡出</button>
        <script>
                let div = document.getElementById("fade-obj");
                let btn = document.getElementById("fade-btn");
                let opCount = 1;
                function low() {
                        btn.disabled = true;
                        opCount -= 0.05;
                        div.style.opacity = opCount;
                        let t = setTimeout("low()", 100);
                        if (opCount <= 0) {
                                clearTimeout(t);
                                btn.disabled = false;
                                btn.innerHTML = "淡入";
                                btn.onclick = up;
                        }
                }
                function up() {
                        btn.disabled = true;
                        opCount += 0.05;
                        div.style.opacity = opCount;
                        let t = setTimeout("up()", 100);
                        if (opCount > 1) {
                                clearTimeout(t);
                                btn.disabled = false;
                                btn.innerHTML = "淡出";
                                btn.onclick=low;
                        }
                }


        </script>
</body>

</html>